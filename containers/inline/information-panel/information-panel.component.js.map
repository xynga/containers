{"version":3,"file":"information-panel.component.js","sourceRoot":"","sources":["../../../inline/information-panel/information-panel.component.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,SAAS,EAAE,SAAS,EAAE,YAAY,EAAiB,UAAU,EAAE,KAAK,EAAC,MAAM,eAAe,CAAC;;;AAKnG,IAAM,QAAQ,GAAW,mBAAmB,CAAC;;IA6D3C;+BAdiC,CAAC;sBAKT,KAAK;uBACJ,KAAK;6BACC,KAAK;KAOf;0BAtBT,4CAAK;uBAAC,KAAc;YAC/B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;;;;;0BAET,sDAAe;uBAAC,eAAwB;YACnD,IAAI,CAAC,gBAAgB,GAAG,eAAe,CAAC;;;;;IAa3B,wCAAc,GAA7B,UAA8B,OAAY;QACxC,IAAM,GAAG,GAAG,OAAO,CAAC,qBAAqB,EAAE,CAAC;QAC5C,MAAM,CAAC,QAAQ,CAAC,eAAe,CAAC,WAAW,GAAG,CAAC,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC,WAAW,GAAG,QAAQ,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;KACrH;IAEqB,CAAC;IAGvB,4CAAQ;QACN,IAAI,CAAC,aAAa,EAAE,CAAC;;IAGhB,mDAAe,GAAtB;QAAA,iBAOC;QANC,IAAI,CAAC,aAAa,EAAE,CAAC;;;QAKrB,UAAU,CAAC,UAAC,CAAK,IAAK,OAAA,KAAI,CAAC,eAAe,GAAG,KAAI,CAAC,SAAS,CAAC,KAAI,CAAC,SAAS,CAAC,aAAa,CAAC,EAAnE,CAAmE,CAAC,CAAC;KAC5F;IAEM,0CAAM,GAAb;QACE,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC;;;;KAK5B;IAEM,oDAAgB,GAAvB,UAAwB,KAAa;QACnC,IAAI,CAAC,OAAO,GAAG,KAAK,KAAK,MAAM,CAAC;QAChC,IAAI,CAAC,aAAa,EAAE,CAAC;KACtB;IAEM,0DAAsB,GAA7B,UAA8B,KAAa;QACzC,IAAI,CAAC,aAAa,GAAG,KAAK,KAAK,MAAM,CAAC;KACvC;IAEO,6CAAS,GAAjB,UAAkB,OAAY;QAC5B,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC;KACrF;IAEO,iDAAa,GAArB;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YAClC,IAAI,CAAC,WAAW,GAAG,yBAAyB,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC;SACjG;QACD,IAAI,CAAC,CAAC;YACJ,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;SACvB;KACF;;gBAvGF,SAAS,SAAC;oBACT,QAAQ,EAAE,QAAQ;oBAClB,QAAQ,EAAE,2mCAwBT;oBACD,MAAM,EAAE,CAAC,4mEAER,CAAC;iBACH;;;;;0BAOE,KAAK;oCAGL,KAAK;6BAOL,SAAS,SAAC,UAAU;8BACpB,SAAS,SAAC,WAAW;6BAarB,YAAY,SAAC,eAAe,EAAE,CAAC,QAAQ,CAAC;;oCApE3C;;SAuCa,yBAAyB","sourcesContent":["import {Component, ViewChild, HostListener, AfterViewInit, ElementRef, Input} from '@angular/core';\n\n// Externalized (polyglot) text values for field labels, input placeholders, button text\n// screen reader text, page headings, user instructions, help messages, menu uploads, etc\n\nconst SELECTOR: string = 'information-panel';\n\n@Component({\n  selector: SELECTOR,\n  template: `\n    <span #waypoint class=\"information-panel-waypoint-top\" waypoint [offset]=\"10\" (waypointChange)=\"onWaypointChange($event)\"></span>\n    <span class=\"information-panel-waypoint-bottom\" waypoint [offset]=\"containerHeight\" (waypointChange)=\"onWaypointChangeBottom($event)\"></span>\n    <div class=\"information-panel\" #container [class.active]=\"active\" [class.fixed]=\"isFixed\" [class.fixed-bottom]=\"isFixedBottom\" [ngStyle]=\"{right: offsetRight}\">\n      <div class=\"information-panel__viewport\">\n        <button class=\"link-btn information-panel__handle\" (click)=\"toggle()\">\n          <div class=\"information-panel__label\">\n            <icon icon=\"help\"></icon>\n            <span>\n              {{_helpButtonLabel}}\n            </span>\n          </div>\n          <div class=\"information-panel__arrow\">\n            <icon icon=\"chevron-left-green\"></icon>\n          </div>\n        </button>\n        <div class=\"information-panel__content\">\n          <h2>\n            {{_title}}\n          </h2>\n          <ng-content></ng-content>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .panel{border:1px solid #d5d5d5}.panel--light{background-color:#d5d5d5}.panel--neutral{background-color:#d5d5d5}.information-panel-container{position:relative}.main .information-panel-container,.features .information-panel-container{margin-right:-32px}.information-panel-content{margin-right:90px}.information-panel{background:#f0efef;position:absolute;width:60px;top:0;right:0;z-index:999;transition:width 0.6s cubic-bezier(0.23, 1, 0.32, 1),box-shadow 0.4s;will-change:width;overflow:hidden}.information-panel__viewport{border:1px solid #d5d5d5;display:flex;align-items:stretch;transform:0.6s cubic-bezier(0.23, 1, 0.32, 1);width:350px}.information-panel.active,.information-panel:hover,.information-panel:active,.information-panel:focus{box-shadow:2px 2px 10px 0 rgba(0,0,0,0.3)}.information-panel.active{width:350px}.information-panel.active .information-panel__arrow{transform:rotate(180deg)}.information-panel.fixed{position:fixed;top:10px}.information-panel.fixed-bottom{position:absolute;bottom:10px;top:auto;right:0 !important}.information-panel__handle{padding:12px 18px;display:flex;flex-direction:column;justify-content:space-between;align-items:center;width:60px;border-right:1px solid #d5d5d5;border-top:none;border-bottom:none;border-left:none}.information-panel__handle:active,.information-panel__handle:focus{outline:none}.information-panel__label span{font-size:12px;margin-top:3px;display:block}.information-panel__arrow{transition:transform 0.4s}.information-panel__content{padding:32px}.information-panel__content h2{margin-top:-8px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-weight:normal;transform:translateZ(0)}.information-panel__content ul{padding:0;margin-bottom:25px}.information-panel__content li{list-style-type:none;margin-bottom:15px;font-weight:bold}.information-panel-waypoint-top{position:absolute;top:0;right:0}.information-panel-waypoint-bottom{position:absolute;bottom:0;right:0}.link-btn,.link-btn:hover,.link-btn:focus,.link-btn:disabled{color:#266eb3;background:transparent;box-shadow:none;font-weight:bold}.link-btn:hover{text-decoration:underline}.link-btn:disabled{color:#d5d5d5}\n  `]\n})\n\nexport class InformationPanelComponent implements AfterViewInit {\n\n  _title: String;\n  _helpButtonLabel: String;\n\n  @Input() set title(title : String) {\n    this._title = title;\n  }\n  @Input() set helpButtonLabel(helpButtonLabel : String) {\n    this._helpButtonLabel = helpButtonLabel;\n  }\n\n  public offsetRight: string;\n  public containerHeight: number = 0;\n\n  @ViewChild('waypoint') waypoint: ElementRef;\n  @ViewChild('container') container: ElementRef;\n\n  public active: boolean = false;\n  public isFixed: boolean = false;\n  public isFixedBottom: boolean = false;\n\n  private static getOffsetRight(element: any): number {\n    const box = element.getBoundingClientRect();\n    return document.documentElement.clientWidth - (box.left + window.pageXOffset - document.documentElement.clientLeft);\n  }\n\n  public constructor(){};\n\n  @HostListener('window:resize', ['$event'])\n  onResize() {\n    this.positionPanel();\n  }\n\n  public ngAfterViewInit(): void {\n    this.positionPanel();\n\n    // wait a tick to avoid one-time devMode unidirectional-data-flow-violation error\n    // https://angular.io/docs/ts/latest/cookbook/component-communication.html#!#parent-to-view-child\n\n    setTimeout((_:any) => this.containerHeight = this.getHeight(this.container.nativeElement));\n  }\n\n  public toggle() {\n    this.active = !this.active;\n\n    //if (this.active) {\n      //this.intercom.trackEvent('openHelpPanel');\n    //}\n  }\n\n  public onWaypointChange(event: string): void {\n    this.isFixed = event === 'down';\n    this.positionPanel();\n  }\n\n  public onWaypointChangeBottom(event: string): void {\n    this.isFixedBottom = event === 'down';\n  }\n\n  private getHeight(element: any): number {\n    return Math.round(this.container.nativeElement.getBoundingClientRect().height) + 20;\n  }\n\n  private positionPanel(): void {\n    if (this.waypoint && this.isFixed) {\n      this.offsetRight = InformationPanelComponent.getOffsetRight(this.waypoint.nativeElement) + 'px';\n    }\n    else {\n      this.offsetRight = '';\n    }\n  }\n}\n"]}